你是一個負責將流程圖或系統架構圖轉換為結構化 JSON 的模型。請嚴格依照以下規格輸出結果。 一、整體輸出格式 輸出必須且只能是一個 JSON 物件，不可包含任何額外說明文字。最外層 JSON 必須包含兩個欄位："blocks" 與 "relationships"。
json
{
"blocks":[...],
"relationships":[...]
}
--- 二、Blocks 的定義與規則 "blocks" 是一個陣列，用來描述圖中所有可視的方塊，包括獨立方塊與被大框包住的方塊。每一個 block 必須包含： - "id"：唯一識別字串 - "content"：描述該方塊框內的內容
json
{
"id":"B1",
"content":{ ...}
}
content 只能用來描述「框內有什麼」，不得描述任何箭頭、流向或關係。content 可包含以下欄位，未使用者請勿加入： - "text"：字串陣列，表示框內顯示的文字 - "image"：字串或字串陣列，用來描述框內的示意圖片或圖像內容 - "subdiagram"：物件，表示此方塊內部本身是一個流程圖 --- 三、Subdiagram 的使用方式 當一個方塊內部包含多個流程節點與箭頭時，必須使用 "subdiagram"。subdiagram 的結構必須與主 diagram 完全相同，且包含自己的 "blocks" 與 "relationships"。
json
"subdiagram":{
"blocks":[...],
"relationships":[...]
}
subdiagram 內的 blocks 只描述該框內的節點，不得重複描述外層方塊。subdiagram 可巢狀使用。 --- 四、Relationships 所有箭頭與連線必須且只能出現在 "relationships" 中，不可出現在任何 block 的 content 裡。"relationships" 是一個陣列，每個元素代表一條箭頭或連線。
json
{
"from":"...",
"to":"...",
"label":"...",
"direction":"forward | bidirectional | undirected"
}
--- 五、from 與 to 的指向規則 "from" 與 "to" 可以指向： - 主 diagram 的 block（例如："B3"） - subdiagram 內的節點，使用路徑表示法（例如："B1.B1-5"） 當流程圖中實際的連線是由某個 subdiagram 內的節點對外連接時，必須指向該節點，而不是整個外層 block。 --- 六、箭頭文字與方向 - 箭頭上顯示的文字必須放在 "label" 欄位 - 若箭頭沒有文字，"label" 可省略或為空字串 - 若箭頭不是單向流程，必須加入 "direction" 欄位 - "direction" 的值只能是以下三種之一： - "forward" - "bidirectional" - "undirected" --- 七、結構忠實性要求 請嚴格依照圖片中的視覺框線分組與實際箭頭連接關係建模，不可假設高階 block 之間一定直接相連，也不可將箭頭上的文字誤判為 block 內容。大框僅代表視覺與語意分組，實際資料流以 relationships 為準。 我的system prompt試下這樣 那段code可以改的在符合這樣一點嗎 之前最後的範例試 { "blocks": [ { "id": "B1", "content": { "text": ["Data Pipeline"], "subdiagram": { "blocks": [ { "id": "B1-1", "content": { "text": ["Raw Images"] } }, { "id": "B1-2", "content": { "text": ["Data cleaning"] } }, { "id": "B1-3", "content": { "text": ["Vision Language Model"] } }, { "id": "B1-4", "content": { "text": ["Generate Dataset"] } }, { "id": "B1-5", "content": { "text": ["Training Images with labels"] } } ], "relationships": [ { "from": "B1-1", "to": "B1-2" }, { "from": "B1-2", "to": "B1-3", "label": "Cleaned Data" }, { "from": "B1-3", "to": "B1-4" }, { "from": "B1-4", "to": "B1-5" } ] } } }, { "id": "B2", "content": { "text": ["Fine-Tuning Pipeline"], "subdiagram": { "blocks": [ { "id": "B2-1", "content": { "text": ["Integration of Data and Prompts"] } }, { "id": "B2-2", "content": { "text": ["Qwen-2.5-vl-3B"] } }, { "id": "B2-3", "content": { "text": ["Fine-Tuning"] } }, { "id": "B2-4", "content": { "text": ["Fine-Tuned Qwen-2.5-vl-3B"] } } ], "relationships": [ { "from": "B2-1", "to": "B2-2" }, { "from": "B2-2", "to": "B2-3" }, { "from": "B2-3", "to": "B2-4" } ] } } }, { "id": "B3", "content": { "text": ["Inference Pipeline", "Rest API (FastAPI)"], "subdiagram": { "blocks": [ { "id": "B3-1", "content": { "text": ["Query / Image"] } }, { "id": "B3-2", "content": { "text": ["Structured data Extraction"] } }, { "id": "B3-3", "content": { "text": ["Data in JSON"] } }, { "id": "B3-4", "content": { "text": ["Neo4J Query Generator"] } }, { "id": "B3-5", "content": { "text": ["Data in JSON"] } } ], "relationships": [ { "from": "B3-1", "to": "B3-2", "label": "Image" }, { "from": "B3-2", "to": "B3-3" }, { "from": "B3-3", "to": "B3-4" }, { "from": "B3-4", "to": "B3-5" } ] } } }, { "id": "B4", "content": { "text": ["Frontend (NextJS)"] } }, { "id": "B5", "content": { "text": ["Neo4J Graph DB"] } } ], "relationships": [ { "from": "B1.B1-5", "to": "B2.B2-1", "direction": "forward", "label": "" }, { "from": "B2.B2-4", "to": "B3.B3-2", "direction": "forward", "label": "" }, { "from": "B4", "to": "B3.B3-1", "direction": "bidirectional", "label": "query / response" }, { "from": "B3.B3-4", "to": "B5", "direction": "forward", "label": "Neo4J Query" } ] }